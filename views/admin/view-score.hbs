<style>
  table {
    border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  border: 1px solid #ddd;
  }
  .sel-mod-mark{
    padding: 1rem;
    width: fit-content;
    background: rgba(222, 184, 135, 0.718);
    margin-left: 2rem;
    box-shadow: -5px -5px 3px -3px black, 5px 5px 3px -3px
  }
  .sel-mod-mark select{
    background: brown;
    font-size: large;
    padding: 4px;
    color: white;
    border-radius: 5px;
    transition: 0.5s;
    cursor: pointer;
  }
  .sel-mod-mark select:hover{
    background: rgb(130, 27, 27);
  }
  .winner-box{
    overflow-x: auto;
    background:rgba(222, 184, 135, 0.805);
    padding: 5px 2px;
  }
  @media screen and (max-width: 480px){
    .sel-mod-mark{
      margin: auto;
    }
  }
</style>

<h1>Score</h1>
<form action="/{{url}}/get-score" method="post">
<div class="sel-mod-mark">
  <select id="module" onchange="myfunction()" required>
      <option value="" disabled selected>select Module</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
  </select>
<input type="number" id="modulell" name="module" hidden>
<button type="submit" class="btn btn-success">Get Scores</button>
</div>
</form> 
<h1>Module {{m}}</h1>
<div class="winner-box">
  {{#if moduleEnd.done}}
<table class="table bg-light table-striped" id="myTable">
  <thead class="thead-dark">
    <tr>
      <th scope="col">sl no.</th>
      <th scope="col">Name</th>
      <th scope="col">Total</th>
    </tr>
  </thead>
  <tbody>

    {{#each scores}}
<tr>
      <th scope="col">{{indexAdd @index}}</th>
      <td scope="col">{{this.name}}</td>
      <td scope="col">{{this.score}}</td>
    </tr>
    
    {{/each}}
  </tbody>
</table>

<form action="/{{url}}/export" method="post">
  <input type="number" name="module" value="{{m}}" hidden>
  <button type="submit" class="btn btn-primary">Export data</button>
</form>
{{else}}
<h2>Module {{module}} not finished</h2>
{{/if}}
</div>
<script>

  function myfunction(){
    const module=document.getElementById('module').value
    document.getElementById('modulell').value=module;
    }

    $(document).ready( function () {
    $('#myTable').DataTable();
} );
</script>